(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1784:function(e,t,r){var content=r(1817);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(30).default)("2e7ce224",content,!0,{sourceMap:!1})},1785:function(e,t,r){var content=r(1819);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(30).default)("65568de0",content,!0,{sourceMap:!1})},1786:function(e,t,r){var content=r(1821);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(30).default)("0f137cb5",content,!0,{sourceMap:!1})},1796:function(e,t,r){"use strict";var n=r(1),o=r(86);var c=n.a.extend({props:{chatPartnerUserName:{type:String,default:""}},data:()=>({loading:!1,items:[],search:null,searchDebounceTime:0,searchDebounceNonce:0,name:"",nameExists:!1,nameErrors:[],nameSuccess:[],nameMessages:[],nameRules:[e=>e.length<64||"Name can be max 63 characters.",e=>/^((?!-)[a-zA-Z0-9-]{0,62}[a-zA-Z0-9])$/.test(e.text)||"Name can consists of A-Z,  0-9 and - within the name"]}),computed:{},watch:{async search(e){var t;this.searchDebounceTime=Date.now()+200,await(t=200,new Promise(e=>setTimeout(e,t)));const r=Date.now();if(this.searchDebounceTime<=r){console.log("Name start search :>> ",e),console.log("current this.name :>> ",this.name),console.log("this.querySelections(val) :>> ",this.querySelections(e));const t=this.name?this.name.split(":")[0]:null;console.log("curVal :>> ",t),e&&e!==t&&await this.querySelections(e,r)}else console.log("search has been called within debounceMS"),console.log("this.searchDebounceTime :>> ",this.searchDebounceTime)}},methods:{...Object(o.d)([]),...Object(o.b)(["searchJembeNames"]),async querySelections(e,t){if(!e)return;if(t<this.searchDebounceNonce)return;this.searchDebounceNonce=t,this.loading=!0;const r=await this.searchJembeNames(e);t<this.searchDebounceNonce||(this.items=r.map(e=>({text:e.data.label,value:`${e.data.label}:${e.id}`})),this.loading=!1)},messageName(e){const t=e.split(":")[0];this.items=[{text:t,value:e}],console.log("event :>> ",e),console.log("event.split(:)[0]) :>> ",e.split(":")[0]),this.name=e,this.nameErrors=[],this.nameSuccess=[],this.nameMessages=[],console.log("messageName -> userName :>> ",t),"messages-userName"===this.$route.name?this.$router.push("/messages/"+t):this.$emit("chatpartnerselected",t)}}}),l=r(96),m=r(150),d=r.n(m),f=r(1923),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pr-2",staticStyle:{width:"100%"}},[r("v-autocomplete",{staticClass:"py-1",attrs:{value:e.name,"auto-select-first":"",flat:"","hide-details":"",rounded:"",filled:"",color:"#008de4",dense:"","full-width":"","prepend-inner-icon":"mdi-magnify",label:"Search people to chat",loading:e.loading,items:e.items,"search-input":e.search,"hide-no-data":"",disabled:this.$store.state.isSyncing,rules:e.nameRules,"success-messages":e.nameSuccess,messages:e.nameMessages},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},input:function(t){return e.messageName(t)}}})],1)}),[],!1,null,null,null);t.a=component.exports;d()(component,{VAutocomplete:f.a})},1808:function(e,t,r){var content=r(1874);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(30).default)("04c72fa4",content,!0,{sourceMap:!1})},1816:function(e,t,r){"use strict";var n=r(1784);r.n(n).a},1817:function(e,t,r){(t=r(29)(!1)).push([e.i,"a.linkify[data-v-7685e428]{color:#03619c!important;text-decoration:none!important}a.linkify[data-v-7685e428] :hover{text-decoration:underline!important}.messageinput[data-v-7685e428]{border-top:1px solid #d3d3d3}.chatPartnerBubble[data-v-7685e428]{background-color:#ece9e9;border-radius:15px 15px 15px 0;font-weight:410;margin-left:48px}.meBubble[data-v-7685e428]{background-color:#008de4;color:#fff;border-radius:15px 15px 0 15px;font-weight:410}.messagesheight[data-v-7685e428]{height:100%}.overlayheight[data-v-7685e428]{height:250px}.chatoverlay[data-v-7685e428]{max-height:470px}",""]),e.exports=t},1818:function(e,t,r){"use strict";var n=r(1785);r.n(n).a},1819:function(e,t,r){(t=r(29)(!1)).push([e.i,'*{text-transform:none!important}.navsidebar{color:#fff!important;font:blue}.font-header{font-size:20px;font-weight:700;font-family:"Montserrat"}.font-header,.menu-text{color:rgba(20,23,26,.8)!important}.menu-text:active,.menu-text:hover{color:#008de4!important}.menu-background:active,.menu-background:hover{background:rgba(0,141,228,.1098)}.menu-background:hover .menu-text{color:#008de4!important}.font-sidebar{font-size:19px;font-weight:700;font-family:"Montserrat";display:inline;line-height:1.3125}.jam-this-text{color:#fff!important;background-color:#008de4;font-size:16px!important}.jam-this-text,.jam-this-text:hover{font-weight:900;font-family:"Montserrat";display:inline;line-height:1.3125}.jam-this-text:hover{color:#fff;background-color:#0e7fc5!important;font-size:16px}.messagecard{border-top:solid!important;border-bottom:solid!important;border-color:hsla(0,4.9%,88%,.84706)!important;border-width:1px!important}.tweetcard:hover{background-color:#f5f8fb!important}',""]),e.exports=t},1820:function(e,t,r){"use strict";var n=r(1786);r.n(n).a},1821:function(e,t,r){(t=r(29)(!1)).push([e.i,'.truncate[data-v-4c863977]{max-width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.borders[data-v-4c863977]{max-width:600px;border-left:solid;border-right:solid;border-color:hsla(0,4.9%,88%,.84706);border-width:1px}.clickin[data-v-4c863977]{border-color:#008de4 solid!important;fill:#fff!important}.narrow[data-v-4c863977]{max-width:44px}.wide[data-v-4c863977]{max-width:275px}.narrowscreen[data-v-4c863977]{padding-right:20px}.widescreen[data-v-4c863977]{padding-right:25px}.font-searchbar[data-v-4c863977]{font-size:15px;font-family:"Arial";display:inline;line-height:1.3125;background:#03619c!important}',""]),e.exports=t},1822:function(e,t,r){var content=r(1878);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(30).default)("1f31e7d0",content,!0,{sourceMap:!1})},1823:function(e,t,r){var content=r(1880);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(30).default)("41bf020a",content,!0,{sourceMap:!1})},1824:function(e,t,r){var content=r(1884);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(30).default)("3b6f7779",content,!0,{sourceMap:!1})},1833:function(e,t,r){"use strict";r(24),r(17),r(14),r(8),r(19),r(56),r(119);var n=r(4),o=r(2),c=r(86),l=r(1),m=r(1810),d=r.n(m);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}l.a.directive("linkified",d.a);var v={props:{chatPartnerUserName:{type:String,default:""}},data:function(){return{isSendingReplyMessage:!1,directMessageText:"",lastTimeCheckedReceived:0,lastTimeCheckedSent:0,chatPartnerUserId:"",setLastSeenMsgInterval:void 0}},computed:h({},Object(c.c)(["getJams","getProfile","getDirectMessages","getLastPartnerMessageTime"])),watch:{getLastPartnerMessageTime:function(e){console.log("chatPartnerUserName :>> ",e)}},created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.chatPartnerUserName){t.next=4;break}return t.next=3,e.resolveUsername(e.chatPartnerUserName);case 3:e.chatPartnerUserId=t.sent.$id;case 4:e.setLastSeenMsgInterval=setInterval(e.setLastSeenMsg,2e3);case 5:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){clearInterval(this.setLastSeenMsgInterval)},methods:h(h({},Object(c.b)(["resolveUsername","sendDirectMessage"])),{},{setLastSeenMsg:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.$store.state.dappState.lastSeen[e.chatPartnerUserName.toLowerCase()]||0,n=e.$store.state.directMessage.dm.length-1,!((o=e.$store.state.directMessage.dm[n]?e.$store.state.directMessage.dm[n].$createdAt:0)>r)){t.next=7;break}return e.$store.commit("setLastSeenDirectMessage",{chatPartnerUserName:e.chatPartnerUserName,timestamp:o}),t.next=7,e.$store.dispatch("saveDappState");case 7:case"end":return t.stop()}}),t)})))()},enterPress:function(e){!0===e.shiftKey?this.directMessageText=this.directMessageText+"\n\r":this.sendDirectMessageWrapper()},amIMessageSender:function(e){return e.senderUserId===this.$store.state.name.userId},sendDirectMessageWrapper:function(){var e=this.directMessageText,t=this.chatPartnerUserName,r=this.chatPartnerUserId,n=this.sendDirectMessage;""!==e&&(this.directMessageText="",n({directMessageText:e,chatPartnerUserId:r,chatPartnerUserName:t}))}})},x=(r(1816),r(96)),y=r(150),w=r.n(y),C=r(1752),O=r(460),P=r(1753),_=r(275),k=r(1756),M=r(276),j=r(464),D=r(190),N=r(1763),U=r(1781),component=Object(x.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-flex flex-column flex-grow-1",class:{fullscreen:e.$vuetify.breakpoint.mdAndUp,halfscreen:e.$vuetify.breakpoint.smAndDown,mobile:e.$vuetify.breakpoint.xs,chatoverlay:"discover"===e.$route.name,messagestab:"messages-userName"===e.$route.name}},["messages-userName"===e.$route.name?r("v-row",{staticClass:"pl-3 pt-0 pb-0",staticStyle:{height:"52px"},attrs:{align:"center","no-gutters":""}},[e.$vuetify.breakpoint.smAndDown?r("v-btn",{staticClass:"mt-n1",attrs:{icon:"",color:"#008de4"},on:{click:function(t){return e.$router.push("/messages")}}},[r("v-icon",[e._v("mdi-arrow-left")])],1):e._e(),e._v(" "),r("span",{staticClass:"font-header pa-0 mt-n1"},[r("v-list-item",{attrs:{"two-line":""}},[r("nuxt-link",{attrs:{to:"/drummer"}},[r("v-list-item-avatar",{staticClass:"mr-2",attrs:{color:"lightgray",size:"31"}},[r("v-img",{staticClass:"elevation-6",attrs:{src:e.getProfile(e.chatPartnerUserName).avatar}})],1)],1),e._v(" "),r("v-list-item-content",{staticClass:"py-2"},[r("v-list-item-title",[r("span",{staticStyle:{"font-weight":"bold","font-size":"19px"}},[e._v("\n              "+e._s(e.chatPartnerUserName)+"\n            ")])]),e._v(" "),r("v-list-item-subtitle",{staticStyle:{color:"#757575","font-size":"12px","margin-left":"1px"}},[e._v("\n            "+e._s("@"+e.chatPartnerUserName)+"\n          ")])],1)],1)],1)],1):e._e(),e._v(" "),r("v-divider"),e._v(" "),r("div",{staticClass:"mb-2",class:{messagesheight:"messages-userName"===e.$route.name,overlayheight:"discover"===e.$route.name},staticStyle:{"overflow-y":"scroll","flex-shrink":"1","flex-direction":"column-reverse",display:"flex"},attrs:{id:"scrollcontainer"}},[r("div",e._l(e.getDirectMessages(e.chatPartnerUserId),(function(t,n){return r("v-row",{key:n,attrs:{"no-gutters":"",justify:e.amIMessageSender(t)?"end":"start"}},[r("v-card",{staticClass:"mt-1 px-4 py-2 mr-4 ml-4",class:{chatPartnerBubble:!e.amIMessageSender(t),meBubble:e.amIMessageSender(t)},staticStyle:{"line-height":"1.2em","font-size":"16px",display:"flex !important","flex-direction":"column","max-width":"350px"},attrs:{elevation:"0",outlined:"",color:"lightgrey"}},[r("div",{directives:[{name:"linkified",rawName:"v-linkified:options",value:{className:"linkify"},expression:"{ className: 'linkify' }",arg:"options"}],domProps:{innerHTML:e._s(t.encMessage)}})])],1)})),1)]),e._v(" "),r("v-row",{staticClass:"flex-nowrap messageinput py-2",attrs:{"no-gutters":"",align:"center"}},[r("v-text-field",{staticClass:"px-2",attrs:{"aria-autocomplete":"off",autocomplete:"off",disabled:e.isSendingReplyMessage,rounded:"",filled:"",dense:"",placeholder:"Start a new message","hide-details":""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterPress(t)}},model:{value:e.directMessageText,callback:function(t){e.directMessageText=t},expression:"directMessageText"}}),r("v-btn",{staticClass:"mr-1",attrs:{loading:e.isSendingReplyMessage,icon:""},on:{click:e.sendDirectMessageWrapper}},[r("v-icon",{attrs:{color:"#008de4"}},[e._v(" mdi-send ")])],1)],1)],1)}),[],!1,null,"7685e428",null);t.a=component.exports;w()(component,{VBtn:C.a,VCard:O.a,VDivider:P.a,VIcon:_.a,VImg:k.a,VListItem:M.a,VListItemAvatar:j.a,VListItemContent:D.a,VListItemSubtitle:D.b,VListItemTitle:D.c,VRow:N.a,VTextField:U.a})},1834:function(e,t,r){"use strict";r(24),r(17),r(14),r(8),r(19),r(56);var n=r(2),o=r(86);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={components:{messagesContactlistSearch:r(1796).a},data:function(){return{}},computed:l({},Object(o.c)(["getLastPartnerMessage","getProfile","getMyContactList","getUserSignupTime","getUnreadDirectMessageCountByChatPartnerUserName"])),created:function(){var e=this;console.log("route",this.$route),this.getMyContactList.forEach((function(t){var r=e.chatPartnerUserName(t[1]);e.fetchUserInfo({userName:r})})),console.log("this.getMyContactList :>> ",this.getMyContactList)},mounted:function(){},methods:l(l({},Object(o.b)(["fetchContactlist","fetchUserInfo"])),{},{selectChatPartner:function(e){"messages-userName"===this.$route.name?this.$router.push("/messages/"+e):this.$emit("chatpartnerselected",e)},chatPartnerUserName:function(e){return e.senderUserName.toLowerCase()===this.$store.state.name.label.toLowerCase()?e.receiverUserName:e.senderUserName},chatPartnerUserId:function(e){return console.log("contact :>> ",e),e.senderUserName.toLowerCase()===this.$store.state.name.label.toLowerCase()?e.receiverUserId:e.senderUserId},posted:function(e){var t=new Date(e),r=new Date(Date.now()),n=["Jan","Feb","Mar","April","May","June","July","Aug","Sep","Oct","Nov","Dec"],o=r.getDate()===t.getDate(),c=r.getMonth()===t.getMonth(),l=r.getFullYear()===t.getFullYear();return r-t<6e4?Math.floor((r-t)/1e3)+" sec":r-t<36e5?Math.floor((r-t)/6e4)+" min":o&&c&&l?Math.floor((r-t)/36e5)+"h":c&&l?n[t.getMonth()]+" "+t.getDate():l?n[t.getMonth()]+" "+t.getFullYear():n[t.getMonth()]+" "+t.getDate()+", "+t.getFullYear()}})},d=(r(1818),r(1820),r(96)),f=r(150),h=r.n(f),v=r(1768),x=r(1752),y=r(460),w=r(1753),C=r(275),O=r(1756),P=r(276),_=r(464),k=r(190),M=r(1763),component=Object(d.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-flex flex-column flex-grow-1",class:{fullscreen:e.$vuetify.breakpoint.mdAndUp,halfscreen:e.$vuetify.breakpoint.smAndDown,mobile:e.$vuetify.breakpoint.xs}},["messages-userName"===e.$route.name?r("v-row",{staticClass:"py-2",staticStyle:{height:"52px",width:"100%"},attrs:{align:"center","no-gutters":""}},[r("v-btn",{attrs:{icon:"",color:"#008de4"},on:{click:function(t){return e.$router.push({name:"discover"})}}},[r("v-icon",[e._v("mdi-arrow-left")])],1),e._v(" "),r("span",{staticClass:"font-header pl-2"},[e._v(" Messages ")])],1):e._e(),e._v(" "),r("v-divider"),e._v(" "),"messages-userName"===e.$route.name?r("v-row",{staticClass:"pt-0 pl-2 pb-0",attrs:{"no-gutters":"",justify:"center",align:"center"}},[r("messagesContactlistSearch")],1):e._e(),e._v(" "),r("v-divider"),e._v(" "),r("div",{staticStyle:{height:"100%","overflow-y":"scroll","flex-shrink":"1"},attrs:{id:"scrollcontainer"}},e._l(e.getMyContactList,(function(t,n){return r("v-card",{key:n,staticClass:"my-0 mx-auto messagecard",attrs:{ripple:!1,elevation:"0",tile:"",nuxt:""},on:{click:function(r){e.selectChatPartner(e.chatPartnerUserName(t[1]))}}},[r("v-list-item",{attrs:{"two-line":""}},[r("nuxt-link",{attrs:{to:"/"+e.chatPartnerUserName(t[1])}},[r("v-badge",{staticStyle:{top:"10px",right:"18px"},attrs:{content:e.getUnreadDirectMessageCountByChatPartnerUserName(e.chatPartnerUserName(t[1])),value:e.getUnreadDirectMessageCountByChatPartnerUserName(e.chatPartnerUserName(t[1])),color:"red",overlap:""}},[r("v-list-item-avatar",{staticStyle:{"margin-top":"0px","margin-right":"-5px"},attrs:{color:"lightgray",size:"48"}},[r("v-img",{staticClass:"elevation-6",attrs:{src:e.getProfile(e.chatPartnerUserName(t[1])).avatar}})],1)],1)],1),e._v(" "),r("v-list-item-content",{staticClass:"d-inline-block text-nowrap",staticStyle:{"max-width":"600px"}},[r("v-list-item-title",[r("span",{staticClass:"truncate",staticStyle:{"font-weight":"bold"}},[e._v("\n              "+e._s(e.chatPartnerUserName(t[1]))+"\n            ")]),e._v(" "),r("span",{staticClass:"truncate",staticStyle:{color:"#787878"}},[e._v("\n              @"+e._s(e.chatPartnerUserName(t[1]))+"\n            ")]),e._v(" "),r("span",{staticClass:"time-posted",staticStyle:{float:"right"}},[e._v("\n              "+e._s(e.getUserSignupTime(e.chatPartnerUserName(t[1])))+"\n            ")])]),e._v(" "),r("v-list-item-subtitle",[e._v("\n            "+e._s(e.getLastPartnerMessage(e.chatPartnerUserName(t[1])))+"\n          ")])],1)],1)],1)})),1)],1)}),[],!1,null,"4c863977",null);t.a=component.exports;h()(component,{VBadge:v.a,VBtn:x.a,VCard:y.a,VDivider:w.a,VIcon:C.a,VImg:O.a,VListItem:P.a,VListItemAvatar:_.a,VListItemContent:k.a,VListItemSubtitle:k.b,VListItemTitle:k.c,VRow:M.a})},1873:function(e,t,r){"use strict";var n=r(1808);r.n(n).a},1874:function(e,t,r){(t=r(29)(!1)).push([e.i,".navdrawersidebar[data-v-5a813f24]{color:#8cc0e0;font:black}",""]),e.exports=t},1877:function(e,t,r){"use strict";var n=r(1822);r.n(n).a},1878:function(e,t,r){(t=r(29)(!1)).push([e.i,'*{text-transform:none!important}.navsidebar{color:#fff!important;font:blue}.font-header{font-size:20px!important;font-weight:700;font-family:"Montserrat"}.font-header,.menu-text{color:rgba(20,23,26,.8)!important}.menu-text:active,.menu-text:hover{color:#008de4!important}.menu-background:active,.menu-background:hover{background:rgba(0,141,228,.1098)}.menu-background:hover .menu-text{color:#008de4!important}.font-sidebar{font-size:19px;font-weight:700;font-family:"Montserrat";display:inline;line-height:1.3125}.jam-this-text{color:#fff!important;background-color:#008de4;font-size:16px!important}.jam-this-text,.jam-this-text:hover{font-weight:900;font-family:"Montserrat";display:inline;line-height:1.3125}.jam-this-text:hover{color:#fff;background-color:#0e7fc5!important;font-size:16px}.messagecard{border-top:solid!important;border-bottom:solid!important;border-color:hsla(0,4.9%,88%,.84706)!important;border-width:1px!important}.tweetcard:hover{background-color:#f5f8fb!important}',""]),e.exports=t},1879:function(e,t,r){"use strict";var n=r(1823);r.n(n).a},1880:function(e,t,r){(t=r(29)(!1)).push([e.i,'.truncate[data-v-e9683ea2]{max-width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.borders[data-v-e9683ea2]{max-width:600px;border-left:solid;border-right:solid;border-color:hsla(0,4.9%,88%,.84706);border-width:1px}.clickin[data-v-e9683ea2]{border-color:#008de4 solid!important;fill:#fff!important}.narrow[data-v-e9683ea2]{max-width:44px}.wide[data-v-e9683ea2]{max-width:275px}.narrowscreen[data-v-e9683ea2]{padding-right:20px}.widescreen[data-v-e9683ea2]{padding-right:25px}.font-searchbar[data-v-e9683ea2]{font-size:15px;font-family:"Arial";display:inline;line-height:1.3125;background:#03619c!important}.overlay-style[data-v-e9683ea2]{width:400px;padding-left:0;padding-right:0;position:fixed;right:0;bottom:0;max-height:530px;z-index:1;min-width:350px;max-width:400px;margin-right:20px;border-top-right-radius:16px;border-top-left-radius:16px;align-self:flex-end;box-sizing:border-box;display:flex;flex-direction:column;flex-shrink:0;min-height:0;box-shadow:0 0 15px rgba(101,119,134,.2)}',""]),e.exports=t},1883:function(e,t,r){"use strict";var n=r(1824);r.n(n).a},1884:function(e,t,r){(t=r(29)(!1)).push([e.i,'.font-header[data-v-56d84271]{font-size:20px;font-weight:700}.font-header[data-v-56d84271],.font-navdrawer[data-v-56d84271]{color:rgba(20,23,26,.8)!important;font-family:"Montserrat"}.font-navdrawer[data-v-56d84271]{font-size:16px}',""]),e.exports=t},1918:function(e,t,r){"use strict";r.r(t);r(24),r(17),r(14),r(8),r(19),r(56),r(119);var n=r(4),o=r(2),c=r(86),l=r(1771),m=r(738),d=r(476),f=r(1841),h=r(1776);function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var x={components:{ComposeJamDialog:d.a},props:{togglemenu:Boolean},data:function(){return{showComposeJamDialog:!1,items:[{icon:"mdi-home-outline",title:"Home",to:"/discover"},{icon:"mdi-magnify",title:"Explore",to:"/search"},{icon:"mdi-bell-outline",title:"Notifications",to:"/notifications"},{icon:"mdi-email-outline",title:"Messages",to:"/messages"},{icon:"mdi-bookmark-outline",title:"Bookmarks",to:"/bookmarks"}]}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.c)(["badgeCount"]))},y=(r(1873),r(96)),w=r(150),C=r.n(w),O=r(1768),P=r(1752),_=r(275),k=r(1756),M=r(463),j=r(276),D=r(464),N=r(226),U=r(190),S=r(1936),$=r(1763),component=Object(y.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{attrs:{value:e.togglemenu,absolute:"",temporary:""}},[n("v-row",{attrs:{justify:"center","no-gutters":""}},[n("v-list",{staticClass:"pr-0",attrs:{nav:"",justify:"center",rounded:""}},[n("nuxt-link",{attrs:{to:"/discover"}},[n("v-list-item-avatar",{attrs:{size:"35px"},on:{click:function(t){return e.$router.push("/")}}},[n("v-img",{attrs:{src:r(755),size:"20px"}})],1)],1),e._v(" "),e._l(e.items,(function(t){return n("v-list-item",{key:t.title,staticClass:"pr-0",attrs:{nuxt:"",to:t.to,exact:"","exact-active-class":"navdrawersidebar"}},[n("v-list-item-icon",[n("v-badge",{attrs:{content:e.badgeCount(t.to.substring(1)),value:e.badgeCount(t.to.substring(1)),color:"red",overlap:""}},[n("v-icon",{staticClass:"menu-text",attrs:{size:"20px"}},[e._v(e._s(t.icon))])],1)],1),e._v(" "),n("v-list-item-title",{staticClass:"font-navdrawer",domProps:{textContent:e._s(t.title)}},[e._v("{item.title}}\n        ")])],1)})),e._v(" "),n("v-list-item",{attrs:{exact:""},on:{click:function(t){return e.logout()}}},[n("v-list-item-icon",[n("v-icon",{staticClass:"menu-text",staticStyle:{"margin-left":"2px"},attrs:{size:"20px"}},[e._v("mdi-logout")])],1),e._v(" "),n("v-list-item-title",{staticClass:"font-navdrawer"},[e._v("Logout ")])],1),e._v(" "),n("ComposeJamDialog",{attrs:{dialog:e.showComposeJamDialog},on:{close:function(t){e.showComposeJamDialog=!1}}}),e._v(" "),n("v-list-item",[n("v-btn",{staticClass:"ml-n2",staticStyle:{"font-size":"16px"},attrs:{rounded:"",fab:"",dark:"",color:"#008de4",height:"42px",width:"210px"},on:{click:function(t){t.stopPropagation(),e.showComposeJamDialog=!0},close:function(t){e.showComposeJamDialog=!1}}},[e._v("\n          Post Jam\n          "),n("v-icon",{attrs:{size:"20px",color:"white"}},[e._v("mdi-feather")])],1)],1)],2)],1)],1)}),[],!1,null,"5a813f24",null),I=component.exports;C()(component,{VBadge:O.a,VBtn:P.a,VIcon:_.a,VImg:k.a,VList:M.a,VListItem:j.a,VListItemAvatar:D.a,VListItemIcon:N.a,VListItemTitle:U.c,VNavigationDrawer:S.a,VRow:$.a});var V=r(1833),L=r(1834);function J(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function z(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?J(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):J(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var T={components:{messagesContactlistSearch:r(1796).a,messagesContactlist:L.a,messagesChat:V.a},data:function(){return{chatPartnerUserName:null}},MessagesContactlistdata:function(){return{chatPartnerUserName:null}},computed:z({},Object(c.c)(["getProfile","getMyContactList","getUserSignupTime"])),created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchContactlist({userId:e.$store.state.name.userId});case 2:e.getMyContactList.forEach((function(t){var r=e.getChatPartnerUserName(t[1]);e.fetchUserInfo({userName:r})})),console.log("this.getMyContactList :>> ",e.getMyContactList);case 4:case"end":return t.stop()}}),t)})))()},mounted:function(){},methods:z(z({},Object(c.b)(["fetchContactlist","fetchUserInfo"])),{},{setChatPartnerUserName:function(e){this.chatPartnerUserName=e,console.log("partnername",this.chatPartnerUserName)},getChatPartnerUserName:function(e){return console.log("contact :>> ",e),e.senderUserName.toLowerCase()===this.$store.state.name.label.toLowerCase()?e.receiverUserName:e.senderUserName},posted:function(e){var t=new Date(e),r=new Date(Date.now()),n=["Jan","Feb","Mar","April","May","June","July","Aug","Sep","Oct","Nov","Dec"],o=r.getDate()===t.getDate(),c=r.getMonth()===t.getMonth(),l=r.getFullYear()===t.getFullYear();return r-t<6e4?Math.floor((r-t)/1e3)+" sec":r-t<36e5?Math.floor((r-t)/6e4)+" min":o&&c&&l?Math.floor((r-t)/36e5)+"h":c&&l?n[t.getMonth()]+" "+t.getDate():l?n[t.getMonth()]+" "+t.getFullYear():n[t.getMonth()]+" "+t.getDate()+", "+t.getFullYear()}})},A=(r(1877),r(1879),r(1911)),E=r(1912),B=r(1913),R=r(1914),F=Object(y.a)(T,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.$vuetify.breakpoint.mdAndUp?r("v-expansion-panels",{staticClass:"overlay-style px-0"},[r("v-expansion-panel",{staticClass:"px-0 mx-0"},[r("v-expansion-panel-header",[e.chatPartnerUserName?e._e():r("span",{staticClass:"font-header px-6 py-4"},[e._v("\n          Messages\n        ")]),e._v(" "),e.chatPartnerUserName?r("span",{staticClass:"font-header pa-0"},[r("v-list-item",{attrs:{"two-line":""}},[r("v-btn",{attrs:{icon:"",color:"#008de4"},on:{click:function(t){t.stopPropagation(),e.chatPartnerUserName=null}}},[r("v-icon",[e._v("mdi-arrow-left")])],1),e._v(" "),r("v-list-item-content",{staticClass:"py-2 pl-3"},[r("v-list-item-title",[r("span",{staticStyle:{"font-weight":"bold","font-size":"19px"}},[e._v("\n                  "+e._s(e.chatPartnerUserName)+"\n                ")])]),e._v(" "),r("v-list-item-subtitle",{staticStyle:{color:"#757575","font-size":"12px","margin-left":"1px"}},[e._v("\n                "+e._s("@"+e.chatPartnerUserName)+"\n              ")])],1)],1)],1):e._e()]),e._v(" "),r("v-expansion-panel-content",[e.chatPartnerUserName?e._e():r("messagesContactlistSearch",{staticClass:"px-5",on:{chatpartnerselected:e.setChatPartnerUserName}}),e._v(" "),e.chatPartnerUserName?r("messagesChat",{staticClass:"px-0",attrs:{"chat-partner-user-name":e.chatPartnerUserName},on:{back:function(t){e.chatPartnerUserName=null}}},[e._v("\n          "+e._s(e.chatPartnerUserName)+"\n        ")]):e._e(),e._v(" "),e.chatPartnerUserName?e._e():r("messagesContactlist",{staticClass:"pt-4",on:{chatpartnerselected:e.setChatPartnerUserName}},[e._v("\n          "+e._s(e.chatPartnerUserName)+"\n        ")])],1)],1)],1):e._e()],1)}),[],!1,null,"e9683ea2",null),Y=F.exports;function H(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function W(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?H(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):H(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}C()(F,{VBtn:P.a,VExpansionPanel:A.a,VExpansionPanelContent:E.a,VExpansionPanelHeader:B.a,VExpansionPanels:R.a,VIcon:_.a,VListItem:j.a,VListItemContent:U.a,VListItemSubtitle:U.b,VListItemTitle:U.c});var Z={components:{navbarMobile:I,searchBar:h.a,Tweet:l.a,ComposeJam:m.a,ComposeJamDialog:d.a,OnboardDialog:f.a,messagesOverlay:Y},data:function(){return{showComposeJamDialog:!1,togglemenu:!1,showOnboardDialog:!1,items:[{icon:"mdi-campfire",title:"Home",to:"/discover"},{icon:"mdi-magnify",title:"Explore",to:"/search"},{icon:"mdi-bell-outline",title:"Notifications",to:"/notifications"},{icon:"mdi-email-outline",title:"Messages",to:"/messages"},{icon:"mdi-bookmark-outline",title:"Bookmarks",to:"/bookmarks"}]}},computed:W({},Object(c.c)(["getJams","getProfile","getMyContactList","badgeCount"])),created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.showOnboardDialog=!e.$store.state.users[e.$store.state.name.label.toLowerCase()]&&!e.$store.state.presentedOnboarding,e.showOnboardDialog&&e.$store.commit("setPresentedOnboarding",!0),e.fetchBookmarks(),t.next=5,e.fetchJams({view:"/discover",orderBy:[["$createdAt","desc"]]});case 5:case"end":return t.stop()}}),t)})))()},methods:W({},Object(c.b)(["fetchJams","refreshLikesInState","refreshCommentCountInState","fetchBookmarks"]))},K=(r(1883),r(458)),G=r(1762),Q=r(1787),X=r(1753),ee=Object(y.a)(Z,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-col",{staticClass:"flex-nowrap pt-0 pr-0",class:{fullscreen:e.$vuetify.breakpoint.mdAndUp,halfscreen:e.$vuetify.breakpoint.smAndDown}},[r("v-row",{attrs:{"no-gutters":"",justify:"center"}},[r("v-col",{staticClass:"flex-nowrap py-0 pr-0",staticStyle:{"max-width":"600px"}},[r("v-container",{staticClass:"pa-0 borders pt-0",staticStyle:{height:"100vh"}},[r("v-row",[r("v-col",{staticClass:"py-2"},[e.$vuetify.breakpoint.smAndUp?r("v-row",{staticClass:"pl-2 pb-1 pt-2",attrs:{align:"center","no-gutters":""}},[r("span",{staticClass:"font-header pb-2 pl-4"},[e._v(" Home ")])]):e._e(),e._v(" "),e.$vuetify.breakpoint.xs?r("v-row",{staticClass:"pl-2 pb-1 pt-0 pr-2",attrs:{align:"center","no-gutters":""}},[r("v-list-item-avatar",{staticClass:"pl-0 ml-0"},[r("v-badge",{attrs:{dot:"","offset-x":"14","offset-y":"13",content:e.badgeCount("notifications"),value:e.badgeCount("notifications"),color:"red",overlap:""}},[r("v-avatar",{attrs:{size:"40",color:"lightgray"},on:{click:function(t){t.stopPropagation(),e.togglemenu=!e.togglemenu}}},[r("v-img",{staticClass:"elevation-6",attrs:{src:e.getProfile(e.$store.state.name.label).avatar}})],1)],1)],1),e._v(" "),r("span",{staticClass:"font-header pt-1 pb-1"},[e._v(" Home ")])],1):e._e(),e._v(" "),r("v-divider")],1)],1),e._v(" "),e.togglemenu?r("navbarMobile",{attrs:{togglemenu:e.togglemenu},on:{close:function(t){e.togglemenu=!1}}}):e._e(),e._v(" "),e.$vuetify.breakpoint.smAndUp?r("ComposeJam"):e._e(),e._v(" "),e._l(e.getJams("/discover"),(function(e,i){return r("Tweet",{key:i,attrs:{jam:e}})})),e._v(" "),e.showOnboardDialog?r("OnboardDialog",{attrs:{dialog:e.showOnboardDialog},on:{close:function(t){e.showOnboardDialog=!1}}}):e._e(),e._v(" "),e.$vuetify.breakpoint.xs?r("v-btn",{attrs:{fixed:"",fab:"",bottom:"",right:"",color:"blue"},on:{click:function(t){t.stopPropagation(),e.showComposeJamDialog=!0}}},[r("v-icon",{attrs:{color:"white"}},[e._v("mdi-feather")])],1):e._e(),e._v(" "),r("ComposeJamDialog",{attrs:{dialog:e.showComposeJamDialog},on:{close:function(t){e.showComposeJamDialog=!1}}})],2)],1),e._v(" "),e.$vuetify.breakpoint.mdAndUp?r("v-col",{staticClass:"pt-0",staticStyle:{"max-width":"320px"}},[r("searchBar")],1):e._e(),e._v(" "),r("messagesOverlay")],1)],1)}),[],!1,null,"56d84271",null);t.default=ee.exports;C()(ee,{VAvatar:K.a,VBadge:O.a,VBtn:P.a,VCol:G.a,VContainer:Q.a,VDivider:X.a,VIcon:_.a,VImg:k.a,VListItemAvatar:D.a,VRow:$.a})}}]);