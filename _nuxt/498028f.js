(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1784:function(t,e,n){var content=n(1817);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(30).default)("2e7ce224",content,!0,{sourceMap:!1})},1785:function(t,e,n){var content=n(1819);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(30).default)("65568de0",content,!0,{sourceMap:!1})},1786:function(t,e,n){var content=n(1821);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(30).default)("0f137cb5",content,!0,{sourceMap:!1})},1787:function(t,e,n){"use strict";n(193),n(14),n(8),n(19),n(754),n(477);var r=n(1);var o,c=n(132);e.a=(o="container",r.a.extend({name:"v-".concat(o),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(t,e){var n=e.props,data=e.data,r=e.children;data.staticClass="".concat(o," ").concat(data.staticClass||"").trim();var c=data.attrs;if(c){data.attrs={};var l=Object.keys(c).filter((function(t){if("slot"===t)return!1;var e=c[t];return t.startsWith("data-")?(data.attrs[t]=e,!1):e||"string"==typeof e}));l.length&&(data.staticClass+=" ".concat(l.join(" ")))}return n.id&&(data.domProps=data.domProps||{},data.domProps.id=n.id),t(n.tag,data,r)}})).extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var n,r=e.props,data=e.data,o=e.children,l=data.attrs;return l&&(data.attrs={},n=Object.keys(l).filter((function(t){if("slot"===t)return!1;var e=l[t];return t.startsWith("data-")?(data.attrs[t]=e,!1):e||"string"==typeof e}))),r.id&&(data.domProps=data.domProps||{},data.domProps.id=r.id),t(r.tag,Object(c.a)(data,{staticClass:"container",class:Array({"container--fluid":r.fluid}).concat(n||[])}),o)}})},1789:function(t,e,n){"use strict";e.__esModule=!0;e.default={nbsp:"Â "}},1790:function(t,e,n){"use strict";function r(t){this.named=t}e.__esModule=!0;var o=/^#[xX]([A-Fa-f0-9]+)$/,c=/^#([0-9]+)$/,l=/^([A-Za-z0-9]+)$/;r.prototype.parse=function(t){if(t){var e=t.match(o);return e?"&#x"+e[1]+";":(e=t.match(c))?"&#"+e[1]+";":(e=t.match(l))?this.named[e[1]]||"&"+e[1]+";":void 0}},e.default=r},1791:function(t,e,n){"use strict";e.__esModule=!0;var r=n(1814);function o(t,e){this.delegate=t,this.entityParser=e,this.state=null,this.input=null,this.index=-1,this.line=-1,this.column=-1,this.tagLine=-1,this.tagColumn=-1,this.reset()}o.prototype={reset:function(){this.state="beforeData",this.input="",this.index=0,this.line=1,this.column=0,this.tagLine=-1,this.tagColumn=-1,this.delegate.reset()},tokenize:function(input){this.reset(),this.tokenizePart(input),this.tokenizeEOF()},tokenizePart:function(input){for(this.input+=(0,r.preprocessInput)(input);this.index<this.input.length;)this.states[this.state].call(this)},tokenizeEOF:function(){this.flushData()},flushData:function(){"data"===this.state&&(this.delegate.finishData(),this.state="beforeData")},peek:function(){return this.input.charAt(this.index)},consume:function(){var t=this.peek();return this.index++,"\n"===t?(this.line++,this.column=0):this.column++,t},consumeCharRef:function(){var t=this.input.indexOf(";",this.index);if(-1!==t){var e=this.input.slice(this.index,t),n=this.entityParser.parse(e);if(n){for(var r=e.length;r;)this.consume(),r--;return this.consume(),n}}},markTagStart:function(){this.tagLine=this.line,this.tagColumn=this.column,this.delegate.tagOpen&&this.delegate.tagOpen()},states:{beforeData:function(){"<"===this.peek()?(this.state="tagOpen",this.markTagStart(),this.consume()):(this.state="data",this.delegate.beginData())},data:function(){var t=this.peek();"<"===t?(this.delegate.finishData(),this.state="tagOpen",this.markTagStart(),this.consume()):"&"===t?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(t))},tagOpen:function(){var t=this.consume();"!"===t?this.state="markupDeclaration":"/"===t?this.state="endTagOpen":(0,r.isAlpha)(t)&&(this.state="tagName",this.delegate.beginStartTag(),this.delegate.appendToTagName(t.toLowerCase()))},markupDeclaration:function(){"-"===this.consume()&&"-"===this.input.charAt(this.index)&&(this.consume(),this.state="commentStart",this.delegate.beginComment())},commentStart:function(){var t=this.consume();"-"===t?this.state="commentStartDash":">"===t?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData(t),this.state="comment")},commentStartDash:function(){var t=this.consume();"-"===t?this.state="commentEnd":">"===t?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData("-"),this.state="comment")},comment:function(){var t=this.consume();"-"===t?this.state="commentEndDash":this.delegate.appendToCommentData(t)},commentEndDash:function(){var t=this.consume();"-"===t?this.state="commentEnd":(this.delegate.appendToCommentData("-"+t),this.state="comment")},commentEnd:function(){var t=this.consume();">"===t?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData("--"+t),this.state="comment")},tagName:function(){var t=this.consume();(0,r.isSpace)(t)?this.state="beforeAttributeName":"/"===t?this.state="selfClosingStartTag":">"===t?(this.delegate.finishTag(),this.state="beforeData"):this.delegate.appendToTagName(t)},beforeAttributeName:function(){var t=this.peek();(0,r.isSpace)(t)?this.consume():"/"===t?(this.state="selfClosingStartTag",this.consume()):">"===t?(this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.state="attributeName",this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(t))},attributeName:function(){var t=this.peek();(0,r.isSpace)(t)?(this.state="afterAttributeName",this.consume()):"/"===t?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="selfClosingStartTag"):"="===t?(this.state="beforeAttributeValue",this.consume()):">"===t?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.consume(),this.delegate.appendToAttributeName(t))},afterAttributeName:function(){var t=this.peek();(0,r.isSpace)(t)?this.consume():"/"===t?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="selfClosingStartTag"):"="===t?(this.consume(),this.state="beforeAttributeValue"):">"===t?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="attributeName",this.delegate.beginAttribute(),this.delegate.appendToAttributeName(t))},beforeAttributeValue:function(){var t=this.peek();(0,r.isSpace)(t)?this.consume():'"'===t?(this.state="attributeValueDoubleQuoted",this.delegate.beginAttributeValue(!0),this.consume()):"'"===t?(this.state="attributeValueSingleQuoted",this.delegate.beginAttributeValue(!0),this.consume()):">"===t?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.state="attributeValueUnquoted",this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(t))},attributeValueDoubleQuoted:function(){var t=this.consume();'"'===t?(this.delegate.finishAttributeValue(),this.state="afterAttributeValueQuoted"):"&"===t?this.delegate.appendToAttributeValue(this.consumeCharRef('"')||"&"):this.delegate.appendToAttributeValue(t)},attributeValueSingleQuoted:function(){var t=this.consume();"'"===t?(this.delegate.finishAttributeValue(),this.state="afterAttributeValueQuoted"):"&"===t?this.delegate.appendToAttributeValue(this.consumeCharRef("'")||"&"):this.delegate.appendToAttributeValue(t)},attributeValueUnquoted:function(){var t=this.peek();(0,r.isSpace)(t)?(this.delegate.finishAttributeValue(),this.consume(),this.state="beforeAttributeName"):"&"===t?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef(">")||"&")):">"===t?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.consume(),this.delegate.appendToAttributeValue(t))},afterAttributeValueQuoted:function(){var t=this.peek();(0,r.isSpace)(t)?(this.consume(),this.state="beforeAttributeName"):"/"===t?(this.consume(),this.state="selfClosingStartTag"):">"===t?(this.consume(),this.delegate.finishTag(),this.state="beforeData"):this.state="beforeAttributeName"},selfClosingStartTag:function(){">"===this.peek()?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.state="beforeData"):this.state="beforeAttributeName"},endTagOpen:function(){var t=this.consume();(0,r.isAlpha)(t)&&(this.state="tagName",this.delegate.beginEndTag(),this.delegate.appendToTagName(t.toLowerCase()))}}},e.default=o},1792:function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(1791),c=(r=o)&&r.__esModule?r:{default:r};function l(t,e){this.token=null,this.startLine=1,this.startColumn=0,this.options=e||{},this.tokenizer=new c.default(this,t)}l.prototype={tokenize:function(input){return this.tokens=[],this.tokenizer.tokenize(input),this.tokens},tokenizePart:function(input){return this.tokens=[],this.tokenizer.tokenizePart(input),this.tokens},tokenizeEOF:function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},reset:function(){this.token=null,this.startLine=1,this.startColumn=0},addLocInfo:function(){this.options.loc&&(this.token.loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},beginData:function(){this.token={type:"Chars",chars:""},this.tokens.push(this.token)},appendToData:function(t){this.token.chars+=t},finishData:function(){this.addLocInfo()},beginComment:function(){this.token={type:"Comment",chars:""},this.tokens.push(this.token)},appendToCommentData:function(t){this.token.chars+=t},finishComment:function(){this.addLocInfo()},beginStartTag:function(){this.token={type:"StartTag",tagName:"",attributes:[],selfClosing:!1},this.tokens.push(this.token)},beginEndTag:function(){this.token={type:"EndTag",tagName:""},this.tokens.push(this.token)},finishTag:function(){this.addLocInfo()},markTagAsSelfClosing:function(){this.token.selfClosing=!0},appendToTagName:function(t){this.token.tagName+=t},beginAttribute:function(){this._currentAttribute=["","",null],this.token.attributes.push(this._currentAttribute)},appendToAttributeName:function(t){this._currentAttribute[0]+=t},beginAttributeValue:function(t){this._currentAttribute[2]=t},appendToAttributeValue:function(t){this._currentAttribute[1]=this._currentAttribute[1]||"",this._currentAttribute[1]+=t},finishAttributeValue:function(){}},e.default=l},1796:function(t,e,n){"use strict";var r=n(1),o=n(86);var c=r.a.extend({props:{chatPartnerUserName:{type:String,default:""}},data:()=>({loading:!1,items:[],search:null,searchDebounceTime:0,searchDebounceNonce:0,name:"",nameExists:!1,nameErrors:[],nameSuccess:[],nameMessages:[],nameRules:[t=>t.length<64||"Name can be max 63 characters.",t=>/^((?!-)[a-zA-Z0-9-]{0,62}[a-zA-Z0-9])$/.test(t.text)||"Name can consists of A-Z,  0-9 and - within the name"]}),computed:{},watch:{async search(t){var e;this.searchDebounceTime=Date.now()+200,await(e=200,new Promise(t=>setTimeout(t,e)));const n=Date.now();if(this.searchDebounceTime<=n){console.log("Name start search :>> ",t),console.log("current this.name :>> ",this.name),console.log("this.querySelections(val) :>> ",this.querySelections(t));const e=this.name?this.name.split(":")[0]:null;console.log("curVal :>> ",e),t&&t!==e&&await this.querySelections(t,n)}else console.log("search has been called within debounceMS"),console.log("this.searchDebounceTime :>> ",this.searchDebounceTime)}},methods:{...Object(o.d)([]),...Object(o.b)(["searchJembeNames"]),async querySelections(t,e){if(!t)return;if(e<this.searchDebounceNonce)return;this.searchDebounceNonce=e,this.loading=!0;const n=await this.searchJembeNames(t);e<this.searchDebounceNonce||(this.items=n.map(t=>({text:t.data.label,value:`${t.data.label}:${t.id}`})),this.loading=!1)},messageName(t){const e=t.split(":")[0];this.items=[{text:e,value:t}],console.log("event :>> ",t),console.log("event.split(:)[0]) :>> ",t.split(":")[0]),this.name=t,this.nameErrors=[],this.nameSuccess=[],this.nameMessages=[],console.log("messageName -> userName :>> ",e),"messages-userName"===this.$route.name?this.$router.push("/messages/"+e):this.$emit("chatpartnerselected",e)}}}),l=n(96),h=n(150),d=n.n(h),m=n(1923),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pr-2",staticStyle:{width:"100%"}},[n("v-autocomplete",{staticClass:"py-1",attrs:{value:t.name,"auto-select-first":"",flat:"","hide-details":"",rounded:"",filled:"",color:"#008de4",dense:"","full-width":"","prepend-inner-icon":"mdi-magnify",label:"Search people to chat",loading:t.loading,items:t.items,"search-input":t.search,"hide-no-data":"",disabled:this.$store.state.isSyncing,rules:t.nameRules,"success-messages":t.nameSuccess,messages:t.nameMessages},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e},input:function(e){return t.messageName(e)}}})],1)}),[],!1,null,null,null);e.a=component.exports;d()(component,{VAutocomplete:m.a})},1810:function(t,e,n){"use strict";var r,o,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=n(1811),h=(o=l)&&o.__esModule?o:{default:o};!function(){function a(b,t){b.innerHTML=(0,h.default)(b.innerHTML,t.value)}"object"==c(e)?t.exports=a:void 0===(r=function(){return a}.apply(e,[]))||(t.exports=r)}()},1811:function(t,e,n){t.exports=n(1812).default},1812:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var i,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c.default.tokenize(t),r=[],o=[];for(e=new d(e),i=0;i<n.length;i++){var l=n[i];if("StartTag"!==l.type)if("Chars"===l.type){var y=m(l.chars,e);r.push.apply(r,y)}else r.push(l);else{r.push(l);var x=l.tagName.toUpperCase(),k="A"===x||h.contains(e.ignoreTags,x);if(!k)continue;var C=r.length;f(x,n,++i,r),i+=r.length-C-1}}for(i=0;i<r.length;i++){var w=r[i];switch(w.type){case"StartTag":var link="<"+w.tagName;if(w.attributes.length>0){var S=v(w.attributes);link+=" "+S.join(" ")}link+=">",o.push(link);break;case"EndTag":o.push("</"+w.tagName+">");break;case"Chars":o.push(w.chars);break;case"Comment":o.push("\x3c!--"+w.chars+"--\x3e")}}return o.join("")};var r,o=n(1813),c=(r=o)&&r.__esModule?r:{default:r},l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(486));var h=l.options,d=h.Options;function m(t,e){for(var n=l.tokenize(t),r=[],i=0;i<n.length;i++){var o=n[i];if("nl"===o.type&&e.nl2br)r.push({type:"StartTag",tagName:"br",attributes:[],selfClosing:!0});else if(o.isLink&&e.check(o)){var c=e.resolve(o),h=c.formatted,d=c.formattedHref,m=c.tagName,f=c.className,v=c.target,y=c.attributes,x=[["href",d]];for(var k in f&&x.push(["class",f]),v&&x.push(["target",v]),y)x.push([k,y[k]]);r.push({type:"StartTag",tagName:m,attributes:x,selfClosing:!1}),r.push({type:"Chars",chars:h}),r.push({type:"EndTag",tagName:m})}else r.push({type:"Chars",chars:o.toString()})}return r}function f(t,e,i,n){for(var r=1;i<e.length&&r>0;){var o=e[i];"StartTag"===o.type&&o.tagName.toUpperCase()===t?r++:"EndTag"===o.type&&o.tagName.toUpperCase()===t&&r--,n.push(o),i++}return n}function v(t){for(var e=[],i=0;i<t.length;i++){var n=t[i],r=n[0],o=n[1];e.push(r+'="'+(o.replace(/"/g,"&quot;")+'"'))}return e}},1813:function(t,e,n){"use strict";e.__esModule=!0;var r=d(n(1789)),o=d(n(1790)),c=d(n(1791)),l=d(n(1792)),h=d(n(1815));function d(t){return t&&t.__esModule?t:{default:t}}var m={HTML5NamedCharRefs:r.default,EntityParser:o.default,EventedTokenizer:c.default,Tokenizer:l.default,tokenize:h.default};e.default=m},1814:function(t,e,n){"use strict";e.__esModule=!0,e.isSpace=function(t){return r.test(t)},e.isAlpha=function(t){return o.test(t)},e.preprocessInput=function(input){return input.replace(c,"\n")};var r=/[\t\n\f ]/,o=/[A-Za-z]/,c=/\r\n?/g},1815:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(input,t){return new r.default(new o.default(c.default),t).tokenize(input)};var r=l(n(1792)),o=l(n(1790)),c=l(n(1789));function l(t){return t&&t.__esModule?t:{default:t}}},1816:function(t,e,n){"use strict";var r=n(1784);n.n(r).a},1817:function(t,e,n){(e=n(29)(!1)).push([t.i,"a.linkify[data-v-7685e428]{color:#03619c!important;text-decoration:none!important}a.linkify[data-v-7685e428] :hover{text-decoration:underline!important}.messageinput[data-v-7685e428]{border-top:1px solid #d3d3d3}.chatPartnerBubble[data-v-7685e428]{background-color:#ece9e9;border-radius:15px 15px 15px 0;font-weight:410;margin-left:48px}.meBubble[data-v-7685e428]{background-color:#008de4;color:#fff;border-radius:15px 15px 0 15px;font-weight:410}.messagesheight[data-v-7685e428]{height:100%}.overlayheight[data-v-7685e428]{height:250px}.chatoverlay[data-v-7685e428]{max-height:470px}",""]),t.exports=e},1818:function(t,e,n){"use strict";var r=n(1785);n.n(r).a},1819:function(t,e,n){(e=n(29)(!1)).push([t.i,'*{text-transform:none!important}.navsidebar{color:#fff!important;font:blue}.font-header{font-size:20px;font-weight:700;font-family:"Montserrat"}.font-header,.menu-text{color:rgba(20,23,26,.8)!important}.menu-text:active,.menu-text:hover{color:#008de4!important}.menu-background:active,.menu-background:hover{background:rgba(0,141,228,.1098)}.menu-background:hover .menu-text{color:#008de4!important}.font-sidebar{font-size:19px;font-weight:700;font-family:"Montserrat";display:inline;line-height:1.3125}.jam-this-text{color:#fff!important;background-color:#008de4;font-size:16px!important}.jam-this-text,.jam-this-text:hover{font-weight:900;font-family:"Montserrat";display:inline;line-height:1.3125}.jam-this-text:hover{color:#fff;background-color:#0e7fc5!important;font-size:16px}.messagecard{border-top:solid!important;border-bottom:solid!important;border-color:hsla(0,4.9%,88%,.84706)!important;border-width:1px!important}.tweetcard:hover{background-color:#f5f8fb!important}',""]),t.exports=e},1820:function(t,e,n){"use strict";var r=n(1786);n.n(r).a},1821:function(t,e,n){(e=n(29)(!1)).push([t.i,'.truncate[data-v-4c863977]{max-width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.borders[data-v-4c863977]{max-width:600px;border-left:solid;border-right:solid;border-color:hsla(0,4.9%,88%,.84706);border-width:1px}.clickin[data-v-4c863977]{border-color:#008de4 solid!important;fill:#fff!important}.narrow[data-v-4c863977]{max-width:44px}.wide[data-v-4c863977]{max-width:275px}.narrowscreen[data-v-4c863977]{padding-right:20px}.widescreen[data-v-4c863977]{padding-right:25px}.font-searchbar[data-v-4c863977]{font-size:15px;font-family:"Arial";display:inline;line-height:1.3125;background:#03619c!important}',""]),t.exports=e},1827:function(t,e,n){var content=n(1899);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(30).default)("db80bc9e",content,!0,{sourceMap:!1})},1833:function(t,e,n){"use strict";n(24),n(17),n(14),n(8),n(19),n(56),n(119);var r=n(4),o=n(2),c=n(86),l=n(1),h=n(1810),d=n.n(h);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}l.a.directive("linkified",d.a);var v={props:{chatPartnerUserName:{type:String,default:""}},data:function(){return{isSendingReplyMessage:!1,directMessageText:"",lastTimeCheckedReceived:0,lastTimeCheckedSent:0,chatPartnerUserId:"",setLastSeenMsgInterval:void 0}},computed:f({},Object(c.c)(["getJams","getProfile","getDirectMessages","getLastPartnerMessageTime"])),watch:{getLastPartnerMessageTime:function(t){console.log("chatPartnerUserName :>> ",t)}},created:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.chatPartnerUserName){e.next=4;break}return e.next=3,t.resolveUsername(t.chatPartnerUserName);case 3:t.chatPartnerUserId=e.sent.$id;case 4:t.setLastSeenMsgInterval=setInterval(t.setLastSeenMsg,2e3);case 5:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){clearInterval(this.setLastSeenMsgInterval)},methods:f(f({},Object(c.b)(["resolveUsername","sendDirectMessage"])),{},{setLastSeenMsg:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.$store.state.dappState.lastSeen[t.chatPartnerUserName.toLowerCase()]||0,r=t.$store.state.directMessage.dm.length-1,!((o=t.$store.state.directMessage.dm[r]?t.$store.state.directMessage.dm[r].$createdAt:0)>n)){e.next=7;break}return t.$store.commit("setLastSeenDirectMessage",{chatPartnerUserName:t.chatPartnerUserName,timestamp:o}),e.next=7,t.$store.dispatch("saveDappState");case 7:case"end":return e.stop()}}),e)})))()},enterPress:function(t){!0===t.shiftKey?this.directMessageText=this.directMessageText+"\n\r":this.sendDirectMessageWrapper()},amIMessageSender:function(t){return t.senderUserId===this.$store.state.name.userId},sendDirectMessageWrapper:function(){var t=this.directMessageText,e=this.chatPartnerUserName,n=this.chatPartnerUserId,r=this.sendDirectMessage;""!==t&&(this.directMessageText="",r({directMessageText:t,chatPartnerUserId:n,chatPartnerUserName:e}))}})},y=(n(1816),n(96)),x=n(150),k=n.n(x),C=n(1752),w=n(460),S=n(1753),N=n(275),T=n(1756),_=n(276),D=n(464),P=n(190),A=n(1763),O=n(1781),component=Object(y.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-column flex-grow-1",class:{fullscreen:t.$vuetify.breakpoint.mdAndUp,halfscreen:t.$vuetify.breakpoint.smAndDown,mobile:t.$vuetify.breakpoint.xs,chatoverlay:"discover"===t.$route.name,messagestab:"messages-userName"===t.$route.name}},["messages-userName"===t.$route.name?n("v-row",{staticClass:"pl-3 pt-0 pb-0",staticStyle:{height:"52px"},attrs:{align:"center","no-gutters":""}},[t.$vuetify.breakpoint.smAndDown?n("v-btn",{staticClass:"mt-n1",attrs:{icon:"",color:"#008de4"},on:{click:function(e){return t.$router.push("/messages")}}},[n("v-icon",[t._v("mdi-arrow-left")])],1):t._e(),t._v(" "),n("span",{staticClass:"font-header pa-0 mt-n1"},[n("v-list-item",{attrs:{"two-line":""}},[n("nuxt-link",{attrs:{to:"/drummer"}},[n("v-list-item-avatar",{staticClass:"mr-2",attrs:{color:"lightgray",size:"31"}},[n("v-img",{staticClass:"elevation-6",attrs:{src:t.getProfile(t.chatPartnerUserName).avatar}})],1)],1),t._v(" "),n("v-list-item-content",{staticClass:"py-2"},[n("v-list-item-title",[n("span",{staticStyle:{"font-weight":"bold","font-size":"19px"}},[t._v("\n              "+t._s(t.chatPartnerUserName)+"\n            ")])]),t._v(" "),n("v-list-item-subtitle",{staticStyle:{color:"#757575","font-size":"12px","margin-left":"1px"}},[t._v("\n            "+t._s("@"+t.chatPartnerUserName)+"\n          ")])],1)],1)],1)],1):t._e(),t._v(" "),n("v-divider"),t._v(" "),n("div",{staticClass:"mb-2",class:{messagesheight:"messages-userName"===t.$route.name,overlayheight:"discover"===t.$route.name},staticStyle:{"overflow-y":"scroll","flex-shrink":"1","flex-direction":"column-reverse",display:"flex"},attrs:{id:"scrollcontainer"}},[n("div",t._l(t.getDirectMessages(t.chatPartnerUserId),(function(e,r){return n("v-row",{key:r,attrs:{"no-gutters":"",justify:t.amIMessageSender(e)?"end":"start"}},[n("v-card",{staticClass:"mt-1 px-4 py-2 mr-4 ml-4",class:{chatPartnerBubble:!t.amIMessageSender(e),meBubble:t.amIMessageSender(e)},staticStyle:{"line-height":"1.2em","font-size":"16px",display:"flex !important","flex-direction":"column","max-width":"350px"},attrs:{elevation:"0",outlined:"",color:"lightgrey"}},[n("div",{directives:[{name:"linkified",rawName:"v-linkified:options",value:{className:"linkify"},expression:"{ className: 'linkify' }",arg:"options"}],domProps:{innerHTML:t._s(e.encMessage)}})])],1)})),1)]),t._v(" "),n("v-row",{staticClass:"flex-nowrap messageinput py-2",attrs:{"no-gutters":"",align:"center"}},[n("v-text-field",{staticClass:"px-2",attrs:{"aria-autocomplete":"off",autocomplete:"off",disabled:t.isSendingReplyMessage,rounded:"",filled:"",dense:"",placeholder:"Start a new message","hide-details":""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterPress(e)}},model:{value:t.directMessageText,callback:function(e){t.directMessageText=e},expression:"directMessageText"}}),n("v-btn",{staticClass:"mr-1",attrs:{loading:t.isSendingReplyMessage,icon:""},on:{click:t.sendDirectMessageWrapper}},[n("v-icon",{attrs:{color:"#008de4"}},[t._v(" mdi-send ")])],1)],1)],1)}),[],!1,null,"7685e428",null);e.a=component.exports;k()(component,{VBtn:C.a,VCard:w.a,VDivider:S.a,VIcon:N.a,VImg:T.a,VListItem:_.a,VListItemAvatar:D.a,VListItemContent:P.a,VListItemSubtitle:P.b,VListItemTitle:P.c,VRow:A.a,VTextField:O.a})},1834:function(t,e,n){"use strict";n(24),n(17),n(14),n(8),n(19),n(56);var r=n(2),o=n(86);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={components:{messagesContactlistSearch:n(1796).a},data:function(){return{}},computed:l({},Object(o.c)(["getLastPartnerMessage","getProfile","getMyContactList","getUserSignupTime","getUnreadDirectMessageCountByChatPartnerUserName"])),created:function(){var t=this;console.log("route",this.$route),this.getMyContactList.forEach((function(e){var n=t.chatPartnerUserName(e[1]);t.fetchUserInfo({userName:n})})),console.log("this.getMyContactList :>> ",this.getMyContactList)},mounted:function(){},methods:l(l({},Object(o.b)(["fetchContactlist","fetchUserInfo"])),{},{selectChatPartner:function(t){"messages-userName"===this.$route.name?this.$router.push("/messages/"+t):this.$emit("chatpartnerselected",t)},chatPartnerUserName:function(t){return t.senderUserName.toLowerCase()===this.$store.state.name.label.toLowerCase()?t.receiverUserName:t.senderUserName},chatPartnerUserId:function(t){return console.log("contact :>> ",t),t.senderUserName.toLowerCase()===this.$store.state.name.label.toLowerCase()?t.receiverUserId:t.senderUserId},posted:function(t){var e=new Date(t),n=new Date(Date.now()),r=["Jan","Feb","Mar","April","May","June","July","Aug","Sep","Oct","Nov","Dec"],o=n.getDate()===e.getDate(),c=n.getMonth()===e.getMonth(),l=n.getFullYear()===e.getFullYear();return n-e<6e4?Math.floor((n-e)/1e3)+" sec":n-e<36e5?Math.floor((n-e)/6e4)+" min":o&&c&&l?Math.floor((n-e)/36e5)+"h":c&&l?r[e.getMonth()]+" "+e.getDate():l?r[e.getMonth()]+" "+e.getFullYear():r[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()}})},d=(n(1818),n(1820),n(96)),m=n(150),f=n.n(m),v=n(1768),y=n(1752),x=n(460),k=n(1753),C=n(275),w=n(1756),S=n(276),N=n(464),T=n(190),_=n(1763),component=Object(d.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-column flex-grow-1",class:{fullscreen:t.$vuetify.breakpoint.mdAndUp,halfscreen:t.$vuetify.breakpoint.smAndDown,mobile:t.$vuetify.breakpoint.xs}},["messages-userName"===t.$route.name?n("v-row",{staticClass:"py-2",staticStyle:{height:"52px",width:"100%"},attrs:{align:"center","no-gutters":""}},[n("v-btn",{attrs:{icon:"",color:"#008de4"},on:{click:function(e){return t.$router.push({name:"discover"})}}},[n("v-icon",[t._v("mdi-arrow-left")])],1),t._v(" "),n("span",{staticClass:"font-header pl-2"},[t._v(" Messages ")])],1):t._e(),t._v(" "),n("v-divider"),t._v(" "),"messages-userName"===t.$route.name?n("v-row",{staticClass:"pt-0 pl-2 pb-0",attrs:{"no-gutters":"",justify:"center",align:"center"}},[n("messagesContactlistSearch")],1):t._e(),t._v(" "),n("v-divider"),t._v(" "),n("div",{staticStyle:{height:"100%","overflow-y":"scroll","flex-shrink":"1"},attrs:{id:"scrollcontainer"}},t._l(t.getMyContactList,(function(e,r){return n("v-card",{key:r,staticClass:"my-0 mx-auto messagecard",attrs:{ripple:!1,elevation:"0",tile:"",nuxt:""},on:{click:function(n){t.selectChatPartner(t.chatPartnerUserName(e[1]))}}},[n("v-list-item",{attrs:{"two-line":""}},[n("nuxt-link",{attrs:{to:"/"+t.chatPartnerUserName(e[1])}},[n("v-badge",{staticStyle:{top:"10px",right:"18px"},attrs:{content:t.getUnreadDirectMessageCountByChatPartnerUserName(t.chatPartnerUserName(e[1])),value:t.getUnreadDirectMessageCountByChatPartnerUserName(t.chatPartnerUserName(e[1])),color:"red",overlap:""}},[n("v-list-item-avatar",{staticStyle:{"margin-top":"0px","margin-right":"-5px"},attrs:{color:"lightgray",size:"48"}},[n("v-img",{staticClass:"elevation-6",attrs:{src:t.getProfile(t.chatPartnerUserName(e[1])).avatar}})],1)],1)],1),t._v(" "),n("v-list-item-content",{staticClass:"d-inline-block text-nowrap",staticStyle:{"max-width":"600px"}},[n("v-list-item-title",[n("span",{staticClass:"truncate",staticStyle:{"font-weight":"bold"}},[t._v("\n              "+t._s(t.chatPartnerUserName(e[1]))+"\n            ")]),t._v(" "),n("span",{staticClass:"truncate",staticStyle:{color:"#787878"}},[t._v("\n              @"+t._s(t.chatPartnerUserName(e[1]))+"\n            ")]),t._v(" "),n("span",{staticClass:"time-posted",staticStyle:{float:"right"}},[t._v("\n              "+t._s(t.getUserSignupTime(t.chatPartnerUserName(e[1])))+"\n            ")])]),t._v(" "),n("v-list-item-subtitle",[t._v("\n            "+t._s(t.getLastPartnerMessage(t.chatPartnerUserName(e[1])))+"\n          ")])],1)],1)],1)})),1)],1)}),[],!1,null,"4c863977",null);e.a=component.exports;f()(component,{VBadge:v.a,VBtn:y.a,VCard:x.a,VDivider:k.a,VIcon:C.a,VImg:w.a,VListItem:S.a,VListItemAvatar:N.a,VListItemContent:T.a,VListItemSubtitle:T.b,VListItemTitle:T.c,VRow:_.a})},1898:function(t,e,n){"use strict";var r=n(1827);n.n(r).a},1899:function(t,e,n){(e=n(29)(!1)).push([t.i,".borders[data-v-6c6c3807]{max-width:600px;border-left:solid;border-right:solid;border-color:hsla(0,4.9%,88%,.84706);border-width:1px}",""]),t.exports=e},1927:function(t,e,n){"use strict";n.r(e);n(24),n(17),n(14),n(8),n(19);var r=n(2),o=n(86),c=n(1834),l=n(1833);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var d={components:{messagesContactlist:c.a,messagesChat:l.a},data:function(){return{chatPartnerUserName:null}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.c)(["getProfile"])),methods:{}},m=(n(1898),n(96)),f=n(150),v=n.n(f),y=n(1762),x=n(1787),k=n(1763),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-col",{staticClass:"flex-nowrap fill-height",class:{fullscreen:t.$vuetify.breakpoint.mdAndUp,halfscreen:t.$vuetify.breakpoint.smAndDown}},[t.$vuetify.breakpoint.smAndDown?n("v-container",{staticClass:"pa-0",staticStyle:{display:"flex",height:"100%"}},[n("v-row",{staticStyle:{height:"100%",width:"100%","overflow-y":"hidden"},attrs:{"no-gutters":"",justify:"center"}},[n("v-col",{staticClass:"pa-0 borders",staticStyle:{"max-width":"600px"},attrs:{cols:"10"}},[t.$route.params.userName?t._e():n("messagesContactlist"),t._v(" "),t.$route.params.userName?n("messagesChat",{attrs:{"chat-partner-user-name":t.$route.params.userName}}):t._e()],1)],1)],1):t._e(),t._v(" "),t.$vuetify.breakpoint.mdAndUp?n("v-container",{staticClass:"pa-0 fill-height",staticStyle:{display:"flex",height:"100%"}},[n("v-row",{staticClass:"flex-nowrap pt-0 fill-height",attrs:{justify:"center"}},[n("v-col",{staticClass:"borders pa-0 fill-height",staticStyle:{"max-width":"375px"}},[n("messagesContactlist")],1),t._v(" "),n("v-col",{staticClass:"borders pa-0",staticStyle:{width:"600px"}},[t.$route.params.userName?n("messagesChat",{attrs:{"chat-partner-user-name":t.$route.params.userName}}):t._e()],1)],1)],1):t._e()],1)}),[],!1,null,"6c6c3807",null);e.default=component.exports;v()(component,{VCol:y.a,VContainer:x.a,VRow:k.a})}}]);