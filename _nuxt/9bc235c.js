(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1825:function(t,e,r){var content=r(1888);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(30).default)("0e8f3648",content,!0,{sourceMap:!1})},1835:function(t,e,r){"use strict";r(24),r(17),r(14),r(8),r(19);var n=r(2),o=(r(119),r(4)),c=r(86);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var f={components:{Tweet:r(1771).a},props:{mention:{type:Object,default:function(){return{}}}},data:function(){return{jam:null}},created:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchJamById(t.mention.jamId);case 2:t.jam=e.sent,t.countLikes({jamId:t.jam.$id}),t.countComments({jamId:t.jam.$id}),t.countRejams({jamId:t.jam.$id});case 6:case"end":return e.stop()}}),e)})))()},methods:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(c.b)(["fetchJamById","countLikes","countRejams","countComments"]))},m=r(96),component=Object(m.a)(f,(function(){var t=this.$createElement,e=this._self._c||t;return this.jam?e("Tweet",{attrs:{jam:this.jam}}):this._e()}),[],!1,null,null,null);e.a=component.exports},1887:function(t,e,r){"use strict";var n=r(1825);r.n(n).a},1888:function(t,e,r){(e=r(29)(!1)).push([t.i,".newNotification{background-color:#d9effd!important}",""]),t.exports=e},1919:function(t,e,r){"use strict";r.r(e);r(24),r(17),r(14),r(8),r(19);var n=r(2),o=r(86),c=r(1776),l=(r(119),r(4)),f=r(756),m=r.n(f);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={props:{jam:{type:Object,default:function(){return{}}}},data:function(){return{p:{text:"@dashameter "}}},computed:h(h({},Object(o.c)(["getProfile","getJamById"])),{},{toThreadLink:function(){return this.$store.getters.hasSession?"/"+this.getJamById(this.jam.reJamId).userName+"/status/"+this.getJamById(this.jam.reJamId).$id:""},opText:function(){return this.getJamById(this.jam.reJamId)?this.getJamById(this.jam.reJamId).text:""}}),created:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchJamById(t.jam.reJamId);case 2:t.p.text=e.sent,console.log("this.p.text :>> ",t.p.text);case 4:case"end":return e.stop()}}),e)})))()},methods:h(h({},Object(o.b)(["fetchJamById"])),{},{linkifyMe:function(t){return m()(t,{target:{mention:"_parent",hashtag:"_parent",url:"_blank",email:"_blank"},nl2br:!0,attributes:{},events:{click:function(t){alert("Link clicked!")}},formatHref:function(t,e){return"mention"===e?"#".concat(t):"hashtag"===e?"#/".concat(t):t}})},goTo:function(t,e){"linkified"!==e.srcElement.className&&this.$router.push(t)}})},j=r(96),y=r(150),O=r.n(y),k=r(458),w=r(460),_=r(1762),x=r(1756),P=r(1763),I=r(1915),component=Object(j.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{staticClass:"px-3 py-2 tweetcard",staticStyle:{"background-color":"inherit !important"},attrs:{flat:"",tile:"",outlined:""},on:{click:function(e){return t.goTo(t.toThreadLink,e)}}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"mr-2",staticStyle:{"max-width":"50px","margin-top":"-2px"},attrs:{justify:"end"}},[r("nuxt-link",{attrs:{to:"/"+t.jam.userName}},[r("v-avatar",{attrs:{color:"lightgray",size:"30"}},[r("v-img",{staticClass:"elevation-6",attrs:{src:t.getProfile(t.jam.userName).avatar}})],1)],1)],1),t._v(" "),r("v-col",[r("nuxt-link",{attrs:{to:"/"+t.jam.userName}},[r("v-avatar",{attrs:{color:"lightgray",size:"30"}},[r("v-img",{staticClass:"elevation-6",attrs:{src:t.getProfile(t.jam.userName).avatar}})],1)],1),t._v(" "),r("div",[r("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.jam.userName)+" ")]),t._v("rejammed\n        your Jam\n      ")]),t._v(" "),r("div",{directives:[{name:"linkify",rawName:"v-linkify",value:t.opText,expression:"opText"}]}),t._v(" "),""===t.opText?r("v-skeleton-loader",{attrs:{type:"list-item-two-line"}}):t._e()],1)],1)],1)}),[],!1,null,null,null),S=component.exports;O()(component,{VAvatar:k.a,VCard:w.a,VCol:_.a,VImg:x.a,VRow:P.a,VSkeletonLoader:I.a});function T(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function J(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var $={props:{like:{type:Object,default:function(){return{}}}},computed:J(J({},Object(o.c)(["getProfile","getJamById"])),{},{toThreadLink:function(){return this.$store.getters.hasSession?"/"+this.like.userName+"/status/"+this.like.jamId:""},opText:function(){return this.getJamById(this.like.jamId)?this.getJamById(this.like.jamId).text:""}}),created:function(){this.fetchJamById(this.like.jamId)},methods:J(J({},Object(o.b)(["fetchJamById"])),{},{linkifyMe:function(t){return m()(t,{target:{mention:"_parent",hashtag:"_parent",url:"_blank",email:"_blank"},nl2br:!0,attributes:{},events:{click:function(t){alert("Link clicked!")}},formatHref:function(t,e){return"mention"===e?"#".concat(t):"hashtag"===e?"#/".concat(t):t}})},goTo:function(t,e){"linkified"!==e.srcElement.className&&this.$router.push(t)}})},C=r(1752),N=r(275),V=Object(j.a)($,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{staticClass:"px-3 py-2 tweetcard",staticStyle:{"background-color":"inherit !important"},attrs:{flat:"",tile:"",outlined:""},on:{click:function(e){return t.goTo(t.toThreadLink,e)}}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"mr-2",staticStyle:{"max-width":"50px","margin-top":"-2px"},attrs:{justify:"end"}},[r("v-btn",{staticStyle:{float:"right"},attrs:{icon:""}},[r("v-icon",{attrs:{size:"28",color:"pink"}},[t._v("mdi-heart")])],1)],1),t._v(" "),r("v-col",[r("nuxt-link",{attrs:{to:"/"+t.like.userName}},[r("v-avatar",{attrs:{color:"lightgray",size:"30"}},[r("v-img",{staticClass:"elevation-6",attrs:{src:t.getProfile(t.like.userName).avatar}})],1)],1),t._v(" "),r("div",[r("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.like.userName)+" ")]),t._v("liked your\n        Jam\n      ")]),t._v(" "),r("span",{domProps:{innerHTML:t._s(t.linkifyMe(t.opText))}}),t._v(" "),""===t.opText?r("v-skeleton-loader",{attrs:{type:"list-item-two-line"}}):t._e()],1)],1)],1)}),[],!1,null,null,null),B=V.exports;O()(V,{VAvatar:k.a,VBtn:C.a,VCard:w.a,VCol:_.a,VIcon:N.a,VImg:x.a,VRow:P.a,VSkeletonLoader:I.a});var D=r(1835);function L(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function E(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?L(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):L(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var R={components:{searchBar:c.a,Jam:S,Like:B,Mention:D.a},data:function(){return{tabRefresh:0,userName:"",notificationText:"",notificationLikeText:"",lastSeenTimestamp:0}},computed:E({},Object(o.c)(["getProfile","getNotifications","getLastSeen"])),created:function(){this.lastSeenTimestamp=this.getLastSeen("notifications"),console.log("this.lastSeenTimestamp :>> ",this.lastSeenTimestamp),this.saveLastSeen({eventType:"notifications",lastSeenTimestamp:Date.now()})},methods:E(E({},Object(o.b)(["fetchNotifications","fetchJamById","saveLastSeen"])),{},{isItNew:function(t){return this.lastSeenTimestamp<t.$createdAt},refreshTab:function(t){this.tabRefresh+=1}})},A=(r(1887),r(1916)),M=r(1935),z=Object(j.a)(R,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-col",{class:{fullscreen:t.$vuetify.breakpoint.mdAndUp,halfscreen:t.$vuetify.breakpoint.smAndDown}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"flex-nowrap fill-height borders",staticStyle:{height:"100vh"}},[r("v-row",{staticClass:"py-2",attrs:{align:"center","no-gutters":""}},[r("v-btn",{attrs:{icon:"",color:"#008de4"},on:{click:function(e){return t.$router.go(-1)}}},[r("v-icon",[t._v("mdi-arrow-left")])],1),t._v(" "),r("span",{staticClass:"font-header pl-2"},[t._v(" Notifications ")])],1),t._v(" "),r("v-tabs",{attrs:{"fixed-tabs":""},on:{change:function(e){return t.refreshTab(e)}}},[r("v-tab",{attrs:{exact:"",to:"/notifications"}},[t._v(" All ")]),t._v(" "),r("v-tab",{attrs:{exact:"",to:"/notifications/mentions"}},[t._v(" Mentions ")])],1),t._v(" "),"notifications"===t.$route.name?r("div",t._l(t.getNotifications,(function(e,i){return r("div",{key:i,class:{newNotification:e.$createdAt>t.lastSeenTimestamp}},["jams"===e.$type?r("Jam",{staticClass:"tweetcard",attrs:{jam:e}}):t._e(),t._v(" "),"likes"===e.$type?r("Like",{staticClass:"tweetcard",attrs:{like:e}}):t._e(),t._v(" "),"mentions"===e.$type?r("Mention",{staticClass:"tweetcard",attrs:{mention:e}}):t._e()],1)})),0):t._e(),t._v(" "),r("nuxt-child")],1),t._v(" "),t.$vuetify.breakpoint.mdAndUp?r("v-col",{staticClass:"pt-0",staticStyle:{"max-width":"320px"}},[r("searchBar")],1):t._e()],1)],1)}),[],!1,null,null,null);e.default=z.exports;O()(z,{VBtn:C.a,VCol:_.a,VIcon:N.a,VRow:P.a,VTab:A.a,VTabs:M.a})}}]);